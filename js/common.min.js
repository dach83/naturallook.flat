$(function(){function e(){$(".overlay, .modal").removeClass("visible"),setTimeout(function(){$(".overlay, .modal").removeClass("active")},500),setTimeout(function(){$("body").removeClass("opened-modal")},1e3)}$(".goto-top").click(function(){$("html,body").animate({scrollTop:0},500)}),$(window).scroll(function(){$(this).scrollTop()>1e3?$(".goto-top").addClass("visible"):$(".goto-top").removeClass("visible")}),$("a[href*=#]").click(function(e){if(e.preventDefault(),!$(this).hasClass("show-modal")){var o=$(this.hash);if(o=o.length&&o||$("[name="+this.hash.slice(1)+"]"),o.length){var t=o.offset().top;return $("html,body").animate({scrollTop:t},500),!1}}}),$(".show-modal").click(function(e){e.preventDefault();var o=$(this).attr("href");$("body").addClass("opened-modal"),setTimeout(function(){$(".overlay,"+o).addClass("active")},100),setTimeout(function(){$(".overlay,"+o).addClass("visible")},500)}),$(".close-modal").click(function(o){o.preventDefault(),e()}),$(document).keydown(function(o){$("body").hasClass("page-gallery")||27==o.keyCode&&e()}),$(document).on("submit",".ajax_form",function(){var e=$(this),o=!0,t=e.find('input[name="name"]');t.length&&t.val().length<2&&(o=!1);var a=e.find('input[name="phone"]');a.length&&a.val().length<4&&(o=!1),afValidated=o}),$(document).on("af_complete",function(){afValidated&&e()})});