$(function(){function e(e){$(".slider li").removeClass("active"),e.addClass("active"),e.find(".curtain").removeAttr("style"),e.find(".handle").removeAttr("style")}function n(n){n.preventDefault();var t=$(".slider li.active").prev();t.length||(t=$(".slider li").last()),e(t)}function t(n){n.preventDefault();var t=$(".slider li.active").next();t.length||(t=$(".slider li").first()),e(t)}var o=0;downMouseX=0,$(document).on("mouseup",function(){$(".handle").removeClass("drag-handle"),o=0,downMouseX=0}),$(".handle").on("mousedown",function(e){e.preventDefault();var n=$(this);n.addClass("drag-handle"),o=n.position().left,downMouseX=e.pageX}),$(document).on("mousemove",function(e){var n=$(".drag-handle");if(n.length){var t=n.parent(".slide"),i=t.find(".curtain"),l=o+(e.pageX-downMouseX),d=100*l/t.width();0>d?d=0:d>100&&(d=100),n.css("left",d+"%"),i.css("width",d+"%")}}),$("#js-prev-slide").click(n),$("#js-next-slide").click(t),$(document).keydown(function(e){console.log("keydown"),37==e.keyCode&&n(e),39==e.keyCode&&t(e)}),$(".slider").mousewheel(function(e,o){return 0>o?t(e):o>0&&n(e),!1})});